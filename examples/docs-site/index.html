<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fidbak Docs Example</title>
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; margin: 0; }
      header, footer { padding: 12px 16px; border-bottom: 1px solid #e5e7eb; }
      main { padding: 16px; max-width: 860px; margin: 0 auto; }
      nav a { margin-right: 12px; }
      .content { min-height: 65vh; }
    </style>
  </head>
  <body>
    <header>
      <nav>
        <a href="/">Home</a>
        <a href="/getting-started.html">Getting Started</a>
        <a href="/api.html">API</a>
      </nav>
    </header>
    <main>
      <div class="content">
        <h1>Welcome</h1>
        <p>This is a simple static docs site to test the Fidbak feedback widget.</p>
        <div style="margin:12px 0; display:flex; gap:8px; align-items:center">
          <label>FAB Variant:</label>
          <button id="v-icon" type="button">Icon</button>
          <button id="v-text" type="button">Text</button>
        </div>
        <h2>Section A</h2>
        <p>Scroll and select some text, then submit feedback.</p>
      </div>
    </main>
    <footer>Example Â© 2025</footer>
    <script type="module">
      import fidbak from '@fidbak/widget';
      const qp = (k) => new URL(location.href).searchParams.get(k);
      const apiBaseUrl = qp('api') || undefined; // e.g. ?api=http://127.0.0.1:8787
      const base = {
        siteId: 'puma-docs',
        theme: 'auto',
        position: 'br',
        draggable: true,
        includeQuery: false,
        debounceMs: 0,
        themeOverrides: {
          fontFamily: 'Inter, system-ui, sans-serif',
          radius: { card: 20, input: 16, button: 24, thumb: 24, close: 24 },
          colors: {
            primaryStart: '#6366f1',
            primaryEnd:   '#4f46e5', 
            primaryText:  '#fff',
            borderLight:  '#e5e7eb',
            borderDark:   '#374151',
            fabBgLight:   '#111',
            fabBgDark:    '#111',
            fabTextLight: '#fff',
            fabTextDark:  '#fff',
            focusRing: '#FFEB3B'
          },
          spacing: { cardPadding: 16 },
          fab: { size: 64 }
        },
      };
      // default to text
      fidbak('init', { ...base, apiBaseUrl, fabVariant: 'text', fabText: 'Feedback', hotkeyLabel: 'F' });

      document.getElementById('v-icon').addEventListener('click', () => {
        fidbak('init', { ...base, apiBaseUrl, fabVariant: 'icon' });
      });
      document.getElementById('v-text').addEventListener('click', () => {
        fidbak('init', { ...base, apiBaseUrl, fabVariant: 'text', fabText: 'Feedback', hotkeyLabel: 'F' });
      });
    </script>
  </body>
</html>
